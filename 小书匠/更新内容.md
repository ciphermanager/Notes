---
title: 更新内容
tags: 更新说明,小书匠
slug: storywriter/upgrade_log
grammar_mindmap: true
renderNumberedHeading: true
grammar_code: true
grammar_decorate: true
grammar_mathjax: true
---



> <!-- {.markdown_vertical}-->
> # －－《平凡之路》
> 徘徊着的 在路上的 
> 你要走吗 Via Via
> 易碎的 骄傲着
> 那也曾是我的模样
> 
> 沸腾着的 不安着的
> 你要去哪 Via Via
> 谜一样的 沉默着的
> 故事你真的在听吗
> 
> *我曾经跨过山和大海 也穿过人山人海*
> *我曾经拥有着的一切 转眼都飘散如烟*
> *我曾经失落失望 失掉所有方向*
> *直到看见平凡 才是唯一的答案*
> 
> 当你仍然 还在幻想
> 你的明天 Via Via
> 她会好吗 还是更烂
> 对我而言是另一天
> 
> **我曾经毁了我的一切 只想永远地离开**
> **我曾经堕入无边黑暗 想挣扎无法自拔**
> **我曾经像你像他 像那野草野花**
> **绝望着 也渴望着 也哭也笑平凡着**
> 
> **我曾经跨过山和大海 也穿过人山人海**
> **我曾经问遍整个世界 从来没得到答案**
> **我不过像你像他 像那野草野花**
> **冥冥中这是我 唯一要走的路啊**
> 
> 时间无言 如此这般
> 明天已在 Via Via
> 风吹过的 路依然远
> 你的故事讲到了哪


[toc!?direction=lr]

# 小书匠收费

## 收费与不收费的区别

### 收费

#### 收费项目
1. pdf 定制化导出(pdf封面，水印，加密等)
2. 支持在线更新，优先使用新功能
3. 配置数据同步
4. 自定义数据中心

#### 收费价格

1. 详细价格可以查看该[地址](http://soft.xiaoshujiang.com/price/)
 
### 不收费

1. 免费又实用的功能太多了，不知道重点写什么好，自己到 http://soft.xiaoshujiang.com/feature.html 这里看吧.....

## 其他

http://soft.xiaoshujiang.com/price.html

[小书匠价格及邀请活动奖励调整说明](http://soft.xiaoshujiang.com/blog/price_change_plan)

___

# 升级日志


> # <i class="fas fa-exclamation-triangle"></i>注
> 如果您从较老版本的小书匠升级，内置数据库会有不兼容问题，建议在升级前进行数据导出备份，或者数据库文件备份，防止升级失败。
> 
> **数据库文件路径**
> 
> ``` 
> Windows: %LOCALAPPDATA%/storywriter/ 
> Mac: ~/Library/Application
> Support/storywriter/ Linux: ~/.config/storywriter 
> ```


## 8.2.4

### 8.2.4 修改

1. pdf导出附件资源顺序和内容紊乱 #1392

## 8.2.3


### 8.2.3 新功能

1. 工具栏标题按钮功能加强
2. 预览区添加标题号提示功能
3. 添加部份文档说明链接

### 8.2.3 修改

1. 待办清单里的普通项,待办项转换时,保持临时状态
2. 修复资源重复加载
3. 无文件时,样式调整
4. 将无序列表,有序列表,待办列表按钮合并为一个按钮
5. 修复为知笔记无法正常抓取文章的问题 #1391
6. 修复客户端为知存储会话容易过期问题

## 8.2.2

### 8.2.2 新功能

1. 待办清单提供显示非待办项列表内容
2. 待办清单加入转为普通项,转为待办项右键功能

### 8.2.2 修改

1. 修复附件没正确初始化的问题
2. 修复一个待办项编号超过两位数时,无法正确切换代办,非代办状态的问题
3. 修复代码执行错误的 bug #1386
4. 修复重置数据库后,再重启时,会有报错的问题
5. 修复客户端重启失效的问题
6. 修复删除数据库后,会自动创建一个无效未命名文件的问题
7. 修复 太长的文件名会挤到下一行 问题 #1388
8. 修复 预览区样式会影响到编辑区设置 的问题 #1388

## 8.2.1

### 8.2.1 新功能

1. web 版本 logo 添加随机谚语


## 8.2.0

### 8.2.0 新功能

1. 提供 `鼠标经过图片链接显示图片` 设置开关功能(设置>编辑器>codemirror)


### 8.2.0 修改

1. 重构大量代码, 调整启动流程,改进文件加载方式
2. 缩小实时预览的时间间隔
3. 文件列表分页数调整为 30
4. 修复 easyzoom 在图床迁移时没有正确初始化的问题
5. 修复客户端 pdf 导出一个问题
6. 开启局部预览后, 修复图片不存在时, 局部更新错误的问题


## 8.1.5

### 8.1.5 修改

1. 修复公式编号问题 #1378


## 8.1.4

### 8.1.4 修改

1. 修复客户端联网 pdf 导出图片丢失问题

## 8.1.3

### 8.1.3 新功能

1. codemirror 编辑器下,实现鼠标悬停图片链接时,自动预览图片功能 #1374
2. 支持批量拖拽多个图片文件

### 8.1.3 修改

1. 联网 pdf 导出过程优化, 解决图片太多时,容易导出失败问题 #1377

## 8.1.2

### 8.1.2 新功能

1. 预览区实现局部渲染功能.(默认为打开, 想要禁用该功能可以在 `设置>预览` 里禁用)
2. 选中多行时,如果多行内包含多个标题, 快捷键 `ctrl+h` 和 `ctrl+shift+h` 将批量增加/减少一级



### 8.1.2 修改

1. 思维导图自动忽略空白行
2. 禁用 html 快捷键,改成 reverse heading 快捷键
3. 修复 codemirror 编辑器下 magnet 快捷键失效的问题
4. 引用块内列表样式调整
5. sequence 图默认使用 simple 主题
6. 修复 attachment, video, audio 语法包含特定符号不兼容问题
7. 修复生成的 html 结构里, p 元素内包含了块级元素 div 的问题

## 8.1.1

### 8.1.1 新功能

1. 添加 saveInternal, preventDefault 命令

### 8.1.1 修改

1. 解决 mac 下关联打开文件失败的问题
2. 继续解决印象笔记重名的问题
3. github 绑定时,更友好的错误提示

## 8.1.0

### 8.1.0 新功能

1. 添加查看当前文章被哪些文章引用的系统过滤器
2. 添加最近 3 天, 最近 7 天创建的文章的系统过滤器
3. 文章列表区支持右键复制为链接功能, 方便进行文章之间的引用处理(支持按 ctrl 键多选后,进行链接复制)
4. 文章之间的跳转, 支持使用小书匠内置的文章 id

### 8.1.0 修改

1. 修复 Codemirror 编辑器下,数字编号大于 10 时,列表快速删除失效的问题
2. codemirror 编辑器在英文语法检查功能开启后,链接无法点击的问题
3. 修复链接关系图里标签的颜色
4. 修复 evernote/印象笔记第三方存储, 在抓取非通过小书匠保存的文章时,图片会有重名的问题
5. 修复 codemirror 编辑器下搜索统计问题 #1366
6. 搜索优化 #1366
7. 解决 小书匠 web 版本时, smms 图床跨域问题
8. codemirror 编辑器, 按键控制光标时,也跟随 typewriter 效果
9. 在[链接关系图](http://soft.xiaoshujiang.com/docs/tutorial/internal_link/)里,双击当前文章的节点后,自动在文章列表处过滤出所有引用该文章的文章

## 8.0.12

### 8.0.12 新功能

1. 片段脚本执行时,添加上下文参数. [详细说明](http://soft.xiaoshujiang.com/docs/tutorial/snippet_script_context)
   通过该功能,可以实现类似 [超链接问题](https://github.com/suziwen/markdownxiaoshujiang/issues/1361) #1361 和 [增加类似Typora的网页复制功能](https://github.com/suziwen/markdownxiaoshujiang/issues/1348#issuecomment-625771696) #1348(#issuecomment-625771696) 需求

## 8.0.11

### 8.0.11 修改

1. mathjax公式显示异常 #1357
2. 右键,在文件夹中打开这个功能失效？ #1360

## 8.0.10

### 8.0.10 新功能

1. 添加文章置顶功能, [查看使用教程](http://soft.xiaoshujiang.com/docs/tutorial/article_pinned/)
2. 添加文章置顶过滤器

## 8.0.9

### 8.0.9 新功能

1. 待办清单添加导出功能, [查看使用教程](http://soft.xiaoshujiang.com/docs/tutorial/task_list_window/) #1355
2. 添加 webdav 第三方存储 #1354

### 8.0.9 修改

1. 修复绘图组件不兼容最新版本的 drawio 导出的 xml 文件格式问题
2. 将待办列表改为待办清单


## 8.0.8

### 8.0.8 新功能

1. 添加待办列表视图, [查看使用教程](http://soft.xiaoshujiang.com/docs/tutorial/task_list_window/) #1320

### 8.0.8 修改

1. 预览区搜索调整到左侧位置
2. 预览区搜索从当前位置开始查找
3. 调整部份预览主题样式

## 8.0.7

### 8.0.7 新功能

1. 客户端预览区添加 `ctrl+f` 搜索功能
2. 预览区右键添加复制图片,另存为图片功能

### 8.0.7 修改

1. 列表快速删除 #1341
2. ace 编辑器搜索框不能拖动的问题
3. ace 编辑器自动缩进
4. 非会员也可以显示表格编辑按钮


## 8.0.6

### 8.0.6 新功能

1. 本地存储添加 `在文件夹中打开` 功能 #1320
2. 本地存储支持 `shift+click` 修改文件名

### 8.0.6 修改

1. 修改部份预览主题字体
2. 文章基础模板内容修改, 使用 `moment` 函数获取时间


## 8.0.5

### 8.0.5 新功能

1. 查找替换窗口支持拖动
2. 查找替换窗口显示匹配数

### 8.0.5 修改

1. 预览主题引用块样式调整
2. 调整自动完成排序问题
3. mermaid pdf 导出样式调整
4. 过滤器列表滚动条
5. 日间过滤器改成日历过滤器
6. firefox 浏览器兼容调整
7. 修复 pdf 封面作者文字被截边的问题
8. 修复联网 pdf 打印空链接锚点无法点击跳转的问题
9. 调整 pdf 打印封面图片显示方式
10. 查找高亮显示 #1321
11. 快捷键输入链接时,如果剪切板内容是超链接,自动识别
12. 本地绑定重命令操作调整 #1320
13. 取消最小化,退出小书匠图标的文字提示
14. 


## 8.0.4

### 8.0.4 新功能

1. 文件列表区添加分页显示功能

### 8.0.4 修改

1. 导出带脚本目录的 html 时,提供一个展开/关闭目录侧的按钮
2. 改进 ace 编辑器赋值算法
3. 调整部份预览主题样式
4. 图片进入相册查看模式后,改进缩略图生成规则,解决图片大多时容易卡顿问题
5. 修复初始模板元数据标题错误的 bug
6. 修复部份置顶过虑器没有显示出来的问题
7. 表格组件与印象笔记同步问题 #1307
8. 文件列表搜索改为全文搜索(第一次使用时,由于要重新创建索引,文章比较多的会比较慢)


## 8.0.3


### 8.0.3 新功能

1. 实现强调语法(加粗 grammar_commonBold,斜体 grammar_commonItalic)控制开关 #1291

### 8.0.3 修改

1. 点击全屏之后背景全屏了，编辑器没有跟着全屏 #1281
2. 解决 codemirror 大小调整后,部份文字消失的问题 #1292
3. 调整小窗口状态下预览界面的显示方式
4. 调整客户端关闭,解决在 modal 打开时,无法正常关闭窗口的问题
5. 修复 codemirror 编辑器里打字机滚动效果定位不准确的问题 #1294
6. 调整预览区公式的最大宽度


## 8.0.2

### 8.0.2 新功能

1. 默认主题添加引用块图标样式

> <i class="fab fa-angellist"></i> 这是一个带图标的引用块
> 小书匠是一款你值得拥有的知识管理工具


> # <i class="fab fa-angellist"></i> 小书匠
> 这是一个带标题和图标的引用块
> 只要在引用块的第一行上使用 markdown 的标题语法,系统就会默认使用新的样式
> **注**: 该样式目前只在默认主题下生效,其他主题需要用户自己自定义 css 样式实现.

2. 默认主题下添加直排显示效果的引用块

```
> <!--{.markdown_vertical}-->
> 只要在引用块的第一行上添加 `<!--{.markdown_vertical}-->` ,系统就会自动切换成直排显示效果
>
> **注**: 该样式目前只在默认主题下生效,其他主题需要用户自己自定义 css 样式实现.
> 同时如果当前使用的字体,浏览器不支持直排显示效果的话,该功能也会失效, 对本地客户端的打印和 pdf 也有影响
> 不过不会影响联网版的 pdf 打印.
```

### 8.0.2 修改

1. 块级引用内的标题，不再计入生成的大纲/Toc 范围内
2. 修复预览区大纲窗口点击无法跳转问题
3. 修复部份主题有序列表起始编号无法指定问题
4. 适当加宽编号和标题之间的距离
5. 调整预览列表样式
6. 块级引用按钮不再自动去掉换行

## 8.0.1

### 8.0.1 新功能

1. 添加一款中国风主题(story_china)

### 8.0.1 修改

1. 修复 window 系统下标题栏按钮异常问题 #1288
2. 修复左侧文件列表栏以及右侧预览栏消失的问题 #1286
3. 修复 linux 下，小书匠进入托盘状态后点击异常的问题
4. 解决预览内容太少时，界面效果不理想的问题
5. 图床转移时，忽略表格组件，绘图组件


## 8.0.0  <!-- {data-mindmap-range-node=true} -->

### 8.0.0 新功能 <!-- {data-mindmap-name="小书匠|新功能" data-mindmap-important-node=true} -->

1. 表格组件功能对普通用户进行开放
2. 普通用户保存图片，绘图组件时，不再自动添加水印
3. 添加清空资源中心数据库功能
4. 绘图组件生成的图片也可以在预览窗口里点击放大
5. 允许 codemirror 拖拽文字调整位置
6. 本地客户端支持关联外部文件显示


### 8.0.0 修改 <!-- {data-mindmap-important-path=true} -->

1. 多款预览主题样式大调整
2. 升级底层 nwjs 到 0.44.2 版本
3. 监控外部资源文件的变动 #1263
4. 拖拽文件时，能根据鼠标位置粘贴文件内容
5. 解决 drawio 生成空白区域，造成无法居中显示的问题
6. 调整思维导图透明度，解决 pdf 打印效果不佳的问题
7. 解决自定义 css 弹窗过早自动关闭问题
8. 修复导出 pdf 后，预览配置没有正确重置的问题
9. 使用 default 做为默认代码主题， 调整行内代码颜色
10. 代码块控制按钮样式调整
11. 解决代码块文字格式有 tab 时，无法正确定位的问题
12. 调整 pdf 封面字体样式
13. 解决输入当前时间时，如果选择取消，会输入一个 null 的问题
14. 在窗口比较小的情形下，部份按钮下拉位置错误的问题 #1280
15. 解决由于焦点切换到 input search 里，造成外层的 dropdown 自动隐藏的问题
16. 代码块内的强调样式修改
17. 修复部份图标缺失问题
18. 通过右上角修改文章属性时，同时修改正文里的内容
29. 图片在相册模式下的样式调整
20. 日历过滤器样式调整

## 7.9.7

### 7.9.7 新功能

1. 添加片段功能([使用说明](http://soft.xiaoshujiang.com/docs/tutorial/snippet/))

### 7.9.7 修改

1. 修复模板管理页面下附件不能上传问题
2. 客户端 drawio 通过浏览器打开外部链接 #1262
3. 修改 drawio 上的拼写错误 #1262

## 7.9.6

### 7.9.6 新功能

1. 相册模式加入 1:1 功能按钮

### 7.9.6 修改

1. 重构预览样式
2. 开启 mathjax 语法后， codemirror 编辑器高亮不正确的问题 #1251
3. 修复解析 css 元数据不正确问题
4. 预览时，去掉对 html meta 标签的支持
5. 让 ace 编辑器支持带参数的命令
6. 解决 pdf 打印时， svg 图标边框错位的问题
7. 思维导图默认布局改为 lr
8. 调整思维导图重要结点风格
9. 修复 元数据 标题可能会有数组情形，造成系统直接崩溃，引起无法再正常启动的问题 #1254
10. 标签过滤器过滤出来的文件显示标签详情

## 7.9.5

### 7.9.5 新功能

1. 添加日历过滤器列表功能(按创建时间过滤文件)
2. 链接关系图添加对标签的支持 #1246

### 7.9.5 修改

1. 修改历史记录列表显示方式 #1247
2. 在使用过滤器状态下，不需要显示归档同步状态图标

## 7.9.4

### 7.9.4 修改

1. 修复修改属性造成文件无法保存的问题 #1243

## 7.9.3

### 7.9.3 新功能

1. 添加文章之间链接功能 [详细说明](http://soft.xiaoshujiang.com/docs/tutorial/internal_link)
2. 添加链接关系图 #1196
3. 添加修改文件属性命令
4. 文件列表添加右键修改属性功能
5. 分类过滤器实现支持起始于关系。(在添加分类过滤器时，如果需要起始于关系，在过滤值前添加 `xsjStartsWith##`) #1241

### 7.9.3 修改


1. 在最新版本的浏览器内， 第三方存储搜索分页条无法显示的问题
2. 兼容 smms 代码更新 #1236
3. 修复 CodeMirror 编辑器搜索框在切换成其他内置编辑器时,内存没有正常释放的问题
4. 导入的文件，自动更新相关元数据属性。

## 7.9.2

### 7.9.2 修改

1. 调整标题输入框修改样式
2. 修复没有正确创建更新手册问题
3. 不在过滤器状态下的文件显示成半透明效果
4. 过滤器列表状态没有正确重置

## 7.9.1

### 7.9.1 新功能

1. 添加过滤器，过滤文件列表功能。详细使用可以参考[这里](http://soft.xiaoshujiang.com/docs/tutorial/filter)(注：会员功能)
2. 文章添加 category, flag 元数据支持

### 7.9.1 修改

1. 优化应用启动逻辑


# 其他

[小书匠更新手册](storywriter/upgrade_log)
[小书匠语法手册](storywriter/grammar)
[小书匠使用手册](storywriter/tutorial)
